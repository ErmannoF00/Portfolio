/* ===== NAVBAR ===== */
.nav{
  position: sticky;
  top: max(0px, env(safe-area-inset-top));
  z-index: 1000;
  border-bottom: 1px solid transparent;

  backdrop-filter: saturate(120%) blur(8px);
  -webkit-backdrop-filter: saturate(120%) blur(8px);
  border-radius: 0 0 18px 18px;

  transition:
    background-color 420ms ease,
    box-shadow 420ms ease,
    border-color 420ms ease,
    transform 420ms ease;
}

/* Transparent blend at top */
.nav--top{
  background:
    linear-gradient(180deg, rgba(10,25,47,.65), rgba(10,25,47,.46) 35%, rgba(10,25,47,0) 100%),
    radial-gradient(120% 80% at 50% 0%, rgba(100,211,255,.06), rgba(0,0,0,0) 60%);
  border-bottom-color: transparent;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.05), 0 14px 30px rgba(0,0,0,.22);
}

/* Solid when scrolled */
.nav--solid{
  background:
    linear-gradient(180deg, rgba(10,25,47,.96), rgba(10,25,47,.94)),
    radial-gradient(130% 90% at 50% -20%, rgba(100,211,255,.07), rgba(0,0,0,0) 60%);
  border-bottom-color: rgba(255,255,255,.06);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.05), 0 18px 36px rgba(0,0,0,.38);
}

/* WIDE, with generous gaps between the 3 blocks */
.nav-inner{
  max-width: 1280px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  column-gap: 56px;
  padding: 10px 16px;
}

/* Brand */
.nav-left .brand{
  display:inline-flex; align-items:center; gap:10px;
  font-weight:900; letter-spacing:.3px;
  font-size: clamp(20px, 2.2vw, 28px);
  line-height:1;
  color: var(--green-bright) !important;
  text-decoration:none;
  text-shadow: 0 0 10px rgba(100,211,255,.25);
  transition: filter 220ms ease, text-shadow 220ms ease, transform 220ms ease;
}
.nav-left .brand:hover, .nav-left .brand:focus-visible{
  filter: drop-shadow(0 0 10px rgba(100,211,255,.45));
  text-shadow: 0 0 22px rgba(100,211,255,.35);
  transform: translateY(-1px);
}

/* CENTER: section links */
.nav-center{ display:grid; place-items:center; }
.center-links{
  display:flex;
  flex-wrap: wrap;
  justify-content:center;
  column-gap: clamp(12px, 3vw, 28px);
  row-gap: 6px;
}
.center-links a{
  color: var(--lightest-slate) !important;
  opacity:.95;
  font-size: 16px;
  text-decoration:none;
  position:relative;
  padding:6px 0;
  transition: opacity 180ms ease, color 180ms ease;
}
.center-links a::after{
  content:""; position:absolute; left:0; right:0; bottom:-4px; height:2px;
  transform:scaleX(0); transform-origin:left;
  background:linear-gradient(90deg, rgba(100,211,255,0), rgba(100,211,255,1), rgba(100,211,255,0));
  transition:transform 220ms ease;
}
.center-links a:hover,
.center-links a:focus-visible{ opacity:1; }
.center-links a:hover::after,
.center-links a:focus-visible::after{ transform:scaleX(1); }

/* RIGHT icons */
.nav-right{ display:inline-flex; gap:18px; }
.nav-right a{ font-size:20px; color:var(--green-bright) !important; transition:filter 180ms ease, transform 180ms ease; }
.nav-right a:hover, .nav-right a:focus-visible{ filter:drop-shadow(0 0 8px rgba(100,211,255,.5)); transform:translateY(-1px); }

/* Responsive tweaks */
@media (max-width:960px){
  .nav-inner{ max-width:100%; column-gap:28px; padding:8px 12px; }
  .center-links a{ font-size:15px; }
}
@media (max-width:720px){
  /* Let the bar grow with link wrapping (prevents overlap) */
  .nav--top, .nav--solid{ padding-top: env(safe-area-inset-top); }
  .nav-inner{
    grid-template-columns: 1fr;
    row-gap: 12px;
    column-gap: 0;
    padding: 10px 14px;
  }
  .nav-left{ order:1; justify-self:center; }
  .nav-right{ order:2; justify-self:center; }
  .nav-center{ order:3; }
  .center-links{ column-gap:12px; row-gap:6px; }
  .center-links a{ font-size:14px; }
  .nav-left .brand{ font-size: clamp(18px, 5.2vw, 24px); }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .nav, .nav-inner, .nav-left .brand, .nav-right a, .center-links a, .center-links a::after{
    transition:none !important;
  }
}
